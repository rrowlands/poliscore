package ch.poliscore;

//@QuarkusTest
public class SlicerTest {
	
//	@Inject
//	private TestResourcesBillService billService;
	
//	@Test
	public void testTextSlicer() throws Exception
	{
//		Bill bill = billService.fetchBill(TestUtils.C118HR393);
//		List<BillSlice> sliced = new XMLBillSlicer().slice(bill);
//		
//		System.out.println("Sliced into " + sliced.size() + " sections.");
//		
//		for (int i = 0; i < sliced.size(); ++i)
//		{
//			Assert.assertTrue(sliced.get(i).getText().length() > 0);
//			
//			if (sliced.get(i).getText().length() >= BillSlicer.MAX_SECTION_LENGTH)
//			{
//				System.out.println(sliced.get(i));
//				Assertions.fail("Slice " + i + " was too long (" + sliced.get(i).getText().length() + ")");
//			}
//		}
//		
//		IOUtils.write(String.join("\n\n\n\n===========================\n\n\n\n", sliced.stream().map(s -> s.getText()).collect(Collectors.toList())),
//				new FileOutputStream(new File("/Users/rrowlands/dev/projects/poliscore/bill-processor/target/slice-test.txt")), "UTF-8");
	}
}
